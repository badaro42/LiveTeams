<%# encoding: utf-8 %>

<% content_for :title, "Equipas :: LiveTeams Portugal" %>
<% content_for :model_actions do %>
    <% if can_perform_action? :create, Team %>
        <div class="fixed-action-btn" style="bottom: 25px; right: 25px;">
          <%= link_to new_team_path, :data => {:position => 'left', :delay => '0', :tooltip => 'Criar equipa'},
                      class: 'btn-floating btn-large red tooltipped', method: :get do %>
              <i class="large material-icons">add</i>
          <% end %>
        </div>
    <% end %>
<% end %>

<% content_for :navbar_buttons do %>
    <li>
      <%= link_to root_path, class: 'navbar-button', method: :get do %>
          Mapa
      <% end %>
    </li>
    <% if show_evaluation_form? %>
        <li>
          <%= link_to evaluation_form_path, class: 'evaluation_form_link navbar-button', method: :get do %>
              Questionário
          <% end %>
        </li>
    <% end %>
    <% if can_perform_action? :read, UserRole %>
        <li>
          <%= link_to permissions_path, class: 'navbar-button', method: :get do %>
              Permissões
          <% end %>
        </li>
    <% end %>
    <li>
      <%= link_to teams_path, class: 'navbar-button active', method: :get do %>
          Equipas
      <% end %>
    </li>
    <li>
      <%= link_to users_path, class: 'navbar-button', method: :get do %>
          Membros
      <% end %>
    </li>
<% end %>

<div class="row" style="margin: 10px 0 20px 0;">
  <div class="" style="padding: 15px; margin-bottom: 15px;">
    <h3 style="font-weight: 200; margin: 0;">Equipas</h3>
    <div class="divider" style="margin-top: 5px;"></div>
  </div>

  <div class="white z-depth-1" style="padding: 15px 10px 0 10px;">
    <%= form_for_filterrific @filterrific do |f| %>

        <div class="col l4 m12 s12 input-field" style="margin-top: 0;">
          Pesquisar por equipa
          <%= f.text_field(
                  :search_team_query,
                  class: 'filterrific-periodically-observed'
              ) %>
        </div>

        <div class="col l4 m12 s12 input-field" style="margin-top: 0;">
          Procurar por membro da equipa
          <%= f.text_field(
                  :search_team_member_query,
                  class: 'filterrific-periodically-observed'
              ) %>
        </div>

        <div class="col l4 m12 s12 input-field" style="margin-top: 22px;">
          <%= f.label "Ordenar por", for: :sorted_by,
                      style: "left: 11px; top: -21px; font-size: 15px; font-weight: 300; color: rgba(0,0,0,0.87);" %>
          <%= f.select(:sorted_by, @filterrific.select_options[:sorted_by]) %>
        </div>


        <!--<div class="col l6 m6 s12">-->
        <!--<a class="waves-effect waves-light btn" id="expand_all">-->
        <!--Expandir todas as entradas-->
        <!--</a>-->
        <!--</div>-->

        <!--<div class="col l6 m6 s12">-->
        <!--<a class="waves-effect waves-light btn" id="collapse_all">-->
        <!--Colapsar todas as entradas-->
        <!--</a>-->
        <!--</div>-->

        <hr class="nice-trick">
    <% end %>
  </div>

  <div id="results" style="margin-top: 20px;">
    <%= render partial: 'list', locals: {teams: @teams} %>
  </div>
</div>
